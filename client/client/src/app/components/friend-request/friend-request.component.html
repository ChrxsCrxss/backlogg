<div *ngIf = "loggedInUser; else elseBlock">
    <section>
        <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th scope="col">Request ID</th>
              <th scope="col">Sender</th>
              <th scope="col">Recipient</th>
              <th scope="col">Status</th>
              <th scope="col"></th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let request of pendingRequests">
              <th scope="row" >{{ request.id }}</th>
              <td>{{ request.person1_id }}</td>
              <td>{{ request.person2_id }}</td>
              <td>{{ request.request_status.name }}</td>
              <td>
                <button type="button" class="btn btn-success" (click)="acceptRequest(request.id)">Accept</button>
              </td>
              <td>
                <button type="button" class="btn btn-danger"(click)= "rejectRequest(request.id)">Reject</button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
          <label for="friendSearch">User Search</label>
          <input name="friendSearch" type="text" placeholder="Enter Username" [(ngModel)]="username">
          <button type="button" class="btn btn-primary" (click)="getPersonByUsername()">
            Search
          </button>
      </section>
      <div *ngIf="searchedPerson">
        
        <button type="button" class="btn btn-primary" (click)="sendRequest()">
            Send Friend Request 
        </button>

      </div>

      <section>
        <table>
          <thead>
            <tr>
              <th scope="col">Request ID</th>
              <th scope="col">Sender</th>
              <th scope="col">Recipient</th>
              <th scope="col">Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let request of sentRequests">
              <th scope="row">{{ request.id }}</th>
              <td>{{ request.person1_id }}</td>
              <td>{{ request.person2_id }}</td>
              <td>{{ request.request_status.name }}</td>

            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <ul *ngFor = "let friend of friendsList"  class="list-group">
            <li class="list-group-item">{{ friend.username }}</li>
        </ul>
      </section>


</div>
<ng-template #elseBlock> You are Not logged in.</ng-template>
